(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-25ee9cac"],{"30e0":function(e,t,n){"use strict";n("e4ec")},"377a":function(e,t,n){e.exports=n.p+"assets/img/heig_2020.a17b492d.svg"},"40cb":function(e,t,n){},cb45:function(e,t,n){"use strict";n("40cb")},e4ec:function(e,t,n){},f82c:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("app-layout",[n("router-view")],1)},s=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.getMenuType,attrs:{id:"app-container"}},[n("TopNav"),e._v(" "),n("SideBar"),e._v(" "),n("main",[n("div",{staticClass:"container-fluid"},[e._t("default")],2)])],1)},a=[],c=n("5530"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sidebar",on:{click:function(e){return e.stopPropagation(),function(){}.apply(null,arguments)}}},[n("div",{staticClass:"main-menu",style:{background:"whitesmoke"}},[n("vue-perfect-scrollbar",{staticClass:"scroll",style:{"touch-action":"none"},attrs:{settings:{suppressScrollX:!0,wheelPropagation:!1}}},[n("ul",{staticClass:"list-unstyled"},e._l(e.filteredMenuItems,(function(t,i){return n("li",{key:i,style:{"margin-left":"-30%"},attrs:{"data-flag":t.id},on:{click:function(n){return e.executeFunction(t.action)}}},[n("router-link",{attrs:{to:t.to}},[n("v-icon",[e._v(e._s(t.icon))]),e._v(" "),n("span",{staticClass:"menu-text"},[e._v("\n              "+e._s(t.label)+"\n            ")])],1)],1)})),0)])],1)])},r=[],l=(n("4de4"),n("d3b7"),n("caad"),n("2532"),n("2f62")),d=n("2b47"),b=n("94ed"),f=n("66cd"),m=[{id:"new-job",icon:b["b"],label:"Nouvelle demande",to:"",roleNeeded:f["b"],action:function(e){e.openJobForm(null)}},{id:"job-categories",icon:b["h"],label:"Travaux réalisables",to:"/job-categories",roleNeeded:f["b"],action:function(e){}},{id:"user-jobs",icon:b["e"],label:"Mes commandes",to:"/user-jobs",roleNeeded:f["b"],action:function(e){}},{id:"unassigned-jobs",icon:b["d"],label:"Commandes clients",to:"/unassigned-jobs",roleNeeded:f["c"],action:function(e){}},{id:"settings",icon:b["a"],label:"Paramètres",to:"/settings",roleNeeded:f["b"],action:function(e){}}],v=m,p={data:function(){return{menuItems:v,filteredMenuItems:[]}},methods:Object(c["a"])(Object(c["a"])({},Object(l["b"])(["openJobForm","retrieveUser"])),{},{executeFunction:function(e){e(this)},defaultMenu:function(){return this.menuItems.filter((function(e){return e.roleNeeded===f["b"]}))},filterMenu:function(){var e=this;return this.menuItems.filter((function(t){return e.user.roles.includes(t.roleNeeded)||e.user.roles.includes(f["a"])}))}}),computed:Object(c["a"])({},Object(l["c"])({user:"getUser"})),beforeMount:function(){this.filteredMenuItems=this.defaultMenu()},watch:{user:function(){this.filteredMenuItems=this.filterMenu()}}},h=p,g=(n("30e0"),n("2877")),_=Object(g["a"])(h,u,r,!1,null,"91fed2e4",null),w=_.exports,j=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("nav",{staticClass:"navbar fixed-top"},[i("v-row",[i("v-col",{style:{display:"flex"}},[i("v-btn",{style:{"margin-left":"1.5rem"},attrs:{icon:"",ripple:!1},on:{click:function(t){return e.changeSideMenuStatus({step:e.menuClickCount+1,classNames:e.menuType,selectedMenuHasSubItems:e.selectedMenuHasSubItems})}}},[i("v-icon",[e._v(e._s(e.mdiMenu))])],1),e._v(" "),i("v-btn",{style:{"margin-left":"30px"},attrs:{ripple:!1,icon:""}},[i("router-link",{attrs:{to:"/user-jobs"}},[i("v-img",{attrs:{src:n("377a"),contain:"","max-width":"50px"}})],1)],1)],1),e._v(" "),i("v-col",{staticClass:"hidden-xs-only",style:{"text-align":"center"}},[i("h4",[i("strong",[e._v(" Gestionnaire des travaux du FabLab ")])])]),e._v(" "),i("v-col",[i("div",{staticClass:"div-style"},[i("router-link",{attrs:{to:"/user-jobs"}},[i("v-badge",{attrs:{content:e.nbNotifications,value:e.nbNotifications>0,color:"blue",overlap:""}},[i("v-icon",[e._v("mdi-bell")])],1)],1),e._v(" "),i("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,s=t.attrs;return[i("v-btn",e._g(e._b({staticClass:"btn-noUpper",attrs:{color:"dark",text:"",ripple:!1,"max-width":"100%"}},"v-btn",s,!1),n),[i("span",{ref:"span",staticClass:"name-style"},[e._v(e._s(e.user.name))])])]}}])},[e._v(" "),i("v-list",[i("v-list-item",{on:{click:e.clickLogout}},[e._v(" Se déconnecter ")])],1)],1)],1)])],1)],1)},y=[],M={data:function(){return{adminRoot:d["a"],mdiMenu:b["g"],nbNotifications:0,windowWidth:null}},methods:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(l["d"])(["changeSideMenuStatus"])),Object(l["b"])(["retrieveJobs"])),{},{clickLogout:function(){this.$keycloak.logout()},setWidth:function(){this.windowWidth=window.innerWidth},tryHideMenu:function(){window.innerWidth<600&&this.changeSideMenuStatus({step:this.menuClickCount+1,classNames:this.menuType,selectedMenuHasSubItems:this.selectedMenuHasSubItems})}}),computed:Object(c["a"])({},Object(l["c"])({menuType:"getMenuType",menuClickCount:"getMenuClickCount",selectedMenuHasSubItems:"getSelectedMenuHasSubItems",notifications:"getNotifications",user:"getUser",jobs:"getJobs"})),mounted:function(){this.$refs.span.parentElement.style.width="100%"},beforeMount:function(){this.retrieveJobs(),this.nbNotifications=0,this.setWidth(),window.addEventListener("resize",this.setWidth)},unmounted:function(){window.removeEventListener("resize",this.setWidth)},watch:{jobs:function(){this.nbNotifications=this.notifications},windowWidth:function(){this.tryHideMenu()}}},k=M,C=(n("cb45"),Object(g["a"])(k,j,y,!1,null,"44f42a6e",null)),x=C.exports,N={components:{TopNav:x,SideBar:w},data:function(){return{show:!1}},computed:Object(c["a"])({},Object(l["c"])(["getMenuType"])),mounted:function(){setTimeout((function(){document.body.classList.add("default-transition")}),100)}},O=N,S=Object(g["a"])(O,o,a,!1,null,"dd77b494",null),I=S.exports,T={components:{"app-layout":I}},W=T,H=Object(g["a"])(W,i,s,!1,null,null,null);t["default"]=H.exports}}]);