(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f78265b8"],{"23e9":function(t,e,n){},"31c8":function(t,e,n){},"377a":function(t,e,n){t.exports=n.p+"assets/img/heig_2020.a17b492d.svg"},7363:function(t,e,n){"use strict";n("23e9")},dc4f:function(t,e,n){"use strict";n("31c8")},f82c:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("app-layout",[n("router-view")],1)},s=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.getMenuType,attrs:{id:"app-container"}},[n("topnav"),t._v(" "),n("sidebar"),t._v(" "),n("main",[n("div",{staticClass:"container-fluid"},[t._t("default")],2)])],1)},a=[],c=n("5530"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sidebar",on:{click:function(t){return t.stopPropagation(),function(){}.apply(null,arguments)}}},[n("div",{staticClass:"main-menu",style:{background:"whitesmoke"}},[n("vue-perfect-scrollbar",{staticClass:"scroll",style:{"touch-action":"none"},attrs:{settings:{suppressScrollX:!0,wheelPropagation:!1}}},[n("ul",{staticClass:"list-unstyled"},t._l(t.filteredMenuItems,(function(e,o){return n("li",{key:o,style:{"margin-left":"-30%"},attrs:{"data-flag":e.id},on:{click:function(n){return t.executeFunction(e.action)}}},[n("router-link",{attrs:{to:e.to}},[n("v-icon",[t._v(t._s(e.icon))]),t._v(" "),n("span",{staticClass:"menu-text"},[t._v("\n              "+t._s(e.label)+"\n            ")])],1)],1)})),0)])],1)])},r=[],l=(n("4de4"),n("d3b7"),n("caad"),n("2532"),n("2f62")),d=n("2b47"),b=n("94ed"),f=n("66cd"),m=[{id:"new-job",icon:b["b"],label:"Nouvelle demande",to:"",roleNeeded:f["b"],action:function(t){t.openJobForm(null)}},{id:"job-categories",icon:b["h"],label:"Travaux réalisables",to:"".concat(d["a"],"/job-categories"),roleNeeded:f["b"],action:function(t){}},{id:"user-jobs",icon:b["e"],label:"Mes commandes",to:"".concat(d["a"],"/user-jobs"),roleNeeded:f["b"],action:function(t){}},{id:"unassigned-jobs",icon:b["d"],label:"Commandes clients",to:"".concat(d["a"],"/unassigned-jobs"),roleNeeded:f["c"],action:function(t){}},{id:"settings",icon:b["a"],label:"Paramètres",to:"".concat(d["a"],"/settings"),roleNeeded:f["b"],action:function(t){}}],p=m,v={data:function(){return{menuItems:p,filteredMenuItems:[]}},methods:Object(c["a"])(Object(c["a"])({},Object(l["b"])(["openJobForm","retrieveUser"])),{},{executeFunction:function(t){t(this)},defaultMenu:function(){return this.menuItems.filter((function(t){return t.roleNeeded===f["b"]}))},filterMenu:function(){var t=this;return this.menuItems.filter((function(e){return t.user.roles.includes(e.roleNeeded)||t.user.roles.includes(f["a"])}))}}),computed:Object(c["a"])({},Object(l["c"])({user:"getUser"})),beforeMount:function(){this.filteredMenuItems=this.defaultMenu()},watch:{user:function(){this.filteredMenuItems=this.filterMenu()}}},g=v,h=(n("7363"),n("2877")),_=Object(h["a"])(g,u,r,!1,null,"29e416e0",null),j=_.exports,y=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("nav",{staticClass:"navbar fixed-top"},[o("v-row",[o("v-col",{style:{display:"flex"}},[o("v-btn",{style:{"margin-left":"1.5rem"},attrs:{icon:"",ripple:!1},on:{click:function(e){return t.changeSideMenuStatus({step:t.menuClickCount+1,classNames:t.menuType,selectedMenuHasSubItems:t.selectedMenuHasSubItems})}}},[o("v-icon",[t._v(t._s(t.mdiMenu))])],1),t._v(" "),o("v-btn",{style:{"margin-left":"30px"},attrs:{ripple:!1,icon:""}},[o("router-link",{attrs:{to:t.adminRoot+"/my-jobs"}},[o("v-img",{attrs:{src:n("377a"),contain:"","max-width":"50px"}})],1)],1)],1),t._v(" "),o("v-col",{style:{"text-align":"center"}},[o("h4",[o("strong",[t._v(" Gestionnaire des travaux du FabLab ")])])]),t._v(" "),o("v-col",[o("div",{staticClass:"div-style"},[o("router-link",{attrs:{to:t.adminRoot+"/user-jobs"}},[o("v-badge",{attrs:{content:t.nbNotifications,value:t.nbNotifications>0,color:"blue",overlap:""}},[o("v-icon",[t._v("mdi-bell")])],1)],1),t._v(" "),o("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,s=e.attrs;return[o("v-btn",t._g(t._b({staticClass:"btn-noUpper",attrs:{color:"dark",text:"",ripple:!1,"max-width":"100%"}},"v-btn",s,!1),n),[o("span",{ref:"span",staticClass:"name-style"},[t._v(t._s(t.user.name))])])]}}])},[t._v(" "),o("v-list",[o("v-list-item",{on:{click:t.clickLogout}},[t._v(" Se déconnecter ")])],1)],1)],1)])],1)],1)},M=[],k={data:function(){return{adminRoot:d["a"],mdiMenu:b["g"],nbNotifications:0}},methods:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(l["d"])(["changeSideMenuStatus"])),Object(l["b"])(["retrieveJobs"])),{},{clickLogout:function(){this.$keycloak.logout()}}),computed:Object(c["a"])({},Object(l["c"])({menuType:"getMenuType",menuClickCount:"getMenuClickCount",selectedMenuHasSubItems:"getSelectedMenuHasSubItems",notifications:"getNotifications",user:"getUser",jobs:"getJobs"})),mounted:function(){this.$refs.span.parentElement.style.width="100%"},beforeMount:function(){this.retrieveJobs(),this.nbNotifications=0},watch:{jobs:function(){this.nbNotifications=this.notifications}}},x=k,O=(n("dc4f"),Object(h["a"])(x,y,M,!1,null,"418c7808",null)),w=O.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer")},N=[],S={},I=S,J=Object(h["a"])(I,C,N,!1,null,null,null),T=J.exports,$={components:{topnav:w,sidebar:j,"footer-component":T},data:function(){return{show:!1}},computed:Object(c["a"])({},Object(l["c"])(["getMenuType"])),mounted:function(){setTimeout((function(){document.body.classList.add("default-transition")}),100)}},E=$,F=Object(h["a"])(E,i,a,!1,null,"4cc4a3b8",null),H=F.exports,L={components:{"app-layout":H}},U=L,P=Object(h["a"])(U,o,s,!1,null,null,null);e["default"]=P.exports}}]);