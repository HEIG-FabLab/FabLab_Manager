(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ec25bb7c"],{"0bed":function(t,e,n){"use strict";n("59d6")},2750:function(t,e,n){},"377a":function(t,e,n){t.exports=n.p+"assets/img/heig_2020.a17b492d.svg"},"59d6":function(t,e,n){},9109:function(t,e,n){"use strict";n("2750")},f82c:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("app-layout",[n("router-view")],1)},i=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.getMenuType,attrs:{id:"app-container"}},[n("TopNav"),t._v(" "),n("SideBar"),t._v(" "),n("main",[n("div",{staticClass:"container-fluid"},[t._t("default")],2)])],1)},a=[],c=n("5530"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sidebar",on:{click:function(t){return t.stopPropagation(),function(){}.apply(null,arguments)}}},[n("div",{staticClass:"main-menu",style:{background:"whitesmoke"}},[n("vue-perfect-scrollbar",{staticClass:"scroll",style:{"touch-action":"none"},attrs:{settings:{suppressScrollX:!0,wheelPropagation:!1}}},[n("ul",{staticClass:"list-unstyled"},t._l(t.filteredMenuItems,(function(e,s){return n("li",{key:s,style:{"margin-left":"-30%"},attrs:{"data-flag":e.id},on:{click:function(n){return t.executeFunction(e.action)}}},[n("router-link",{attrs:{to:e.to}},[n("v-icon",[t._v(t._s(e.icon))]),t._v(" "),n("span",{staticClass:"menu-text"},[t._v("\n              "+t._s(e.label)+"\n            ")])],1)],1)})),0)])],1)])},r=[],l=(n("4de4"),n("d3b7"),n("caad"),n("2532"),n("2f62")),d=n("2b47"),b=n("94ed"),f=n("66cd"),m=[{id:"new-job",icon:b["b"],label:"Nouvelle demande",to:"",roleNeeded:f["b"],action:function(t){t.openJobForm(null)}},{id:"job-categories",icon:b["h"],label:"Travaux réalisables",to:"/job-categories",roleNeeded:f["b"],action:function(t){}},{id:"user-jobs",icon:b["e"],label:"Mes commandes",to:"/user-jobs",roleNeeded:f["b"],action:function(t){}},{id:"unassigned-jobs",icon:b["d"],label:"Commandes clients",to:"/unassigned-jobs",roleNeeded:f["c"],action:function(t){}},{id:"settings",icon:b["a"],label:"Paramètres",to:"/settings",roleNeeded:f["b"],action:function(t){}}],v=m,p={data:function(){return{menuItems:v,filteredMenuItems:[]}},methods:Object(c["a"])(Object(c["a"])({},Object(l["b"])(["openJobForm","retrieveUser"])),{},{executeFunction:function(t){t(this)},defaultMenu:function(){return this.menuItems.filter((function(t){return t.roleNeeded===f["b"]}))},filterMenu:function(){var t=this;return this.menuItems.filter((function(e){return t.user.roles.includes(e.roleNeeded)||t.user.roles.includes(f["a"])}))}}),computed:Object(c["a"])({},Object(l["c"])({user:"getUser"})),beforeMount:function(){this.filteredMenuItems=this.defaultMenu()},watch:{user:function(){this.filteredMenuItems=this.filterMenu()}}},g=p,h=(n("9109"),n("2877")),_=Object(h["a"])(g,u,r,!1,null,"5814ec70",null),j=_.exports,y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"navbar fixed-top"},[s("v-row",[s("v-col",{style:{display:"flex"}},[s("v-btn",{style:{"margin-left":"1.5rem"},attrs:{icon:"",ripple:!1},on:{click:function(e){return t.changeSideMenuStatus({step:t.menuClickCount+1,classNames:t.menuType,selectedMenuHasSubItems:t.selectedMenuHasSubItems})}}},[s("v-icon",[t._v(t._s(t.mdiMenu))])],1),t._v(" "),s("v-btn",{style:{"margin-left":"30px"},attrs:{ripple:!1,icon:""}},[s("router-link",{attrs:{to:t.adminRoot+"/my-jobs"}},[s("v-img",{attrs:{src:n("377a"),contain:"","max-width":"50px"}})],1)],1)],1),t._v(" "),s("v-col",{style:{"text-align":"center"}},[s("h4",[s("strong",[t._v(" Gestionnaire des travaux du FabLab ")])])]),t._v(" "),s("v-col",[s("div",{staticClass:"div-style"},[s("router-link",{attrs:{to:t.adminRoot+"/user-jobs"}},[s("v-badge",{attrs:{content:t.nbNotifications,value:t.nbNotifications>0,color:"blue",overlap:""}},[s("v-icon",[t._v("mdi-bell")])],1)],1),t._v(" "),s("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[s("v-btn",t._g(t._b({staticClass:"btn-noUpper",attrs:{color:"dark",text:"",ripple:!1,"max-width":"100%"}},"v-btn",i,!1),n),[s("span",{ref:"span",staticClass:"name-style"},[t._v(t._s(t.user.name))])])]}}])},[t._v(" "),s("v-list",[s("v-list-item",{on:{click:t.clickLogout}},[t._v(" Se déconnecter ")])],1)],1)],1)])],1)],1)},M=[],k={data:function(){return{adminRoot:d["a"],mdiMenu:b["g"],nbNotifications:0}},methods:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(l["d"])(["changeSideMenuStatus"])),Object(l["b"])(["retrieveJobs"])),{},{clickLogout:function(){this.$keycloak.logout()}}),computed:Object(c["a"])({},Object(l["c"])({menuType:"getMenuType",menuClickCount:"getMenuClickCount",selectedMenuHasSubItems:"getSelectedMenuHasSubItems",notifications:"getNotifications",user:"getUser",jobs:"getJobs"})),mounted:function(){this.$refs.span.parentElement.style.width="100%"},beforeMount:function(){this.retrieveJobs(),this.nbNotifications=0},watch:{jobs:function(){this.nbNotifications=this.notifications}}},x=k,O=(n("0bed"),Object(h["a"])(x,y,M,!1,null,"6d52f0ba",null)),w=O.exports,C={components:{TopNav:w,SideBar:j},data:function(){return{show:!1}},computed:Object(c["a"])({},Object(l["c"])(["getMenuType"])),mounted:function(){setTimeout((function(){document.body.classList.add("default-transition")}),100)}},N=C,S=Object(h["a"])(N,o,a,!1,null,"dd77b494",null),I=S.exports,T={components:{"app-layout":I}},J=T,$=Object(h["a"])(J,s,i,!1,null,null,null);e["default"]=$.exports}}]);